{
contaCompleti<-contaCompleti+1
sulfate<-c(sulfate,as.numeric(riga[2]))
nitrate<-c(nitrate,as.numeric(riga[3]))
}
i<-i+1
}
if(contaCompleti>threshold)
{
correlation<-cor(sulfate,nitrate)
total<-c(total,correlation)
}
close(dataFile)
fileIndex<-fileIndex+1
}
return(total)
}
cr <- corr("specdata", 400)
head(cr)
source("generalFunction.R")
corr <- function(directory, threshold = 0)
{
classes <- c("Date","numeric","numeric","integer")
total<-c()
sulfate<-c()
nitrate<-c()
fileIndex<-1
while (fileIndex<=332)
{
print(fileIndex)
contaCompleti<-0
percorsi<-creaPercorsiFile(directory,fileIndex)
urlPath<-percorsi[1]
pcPath<-percorsi[2]
if (file.exists(pcPath)==FALSE)
{
download.file(urlPath, pcPath, quiet=TRUE)
}
if fileIndex>98
{
print(pcPath)
}
dataFile<-file(pcPath, "r")
pollution<-read.csv(
dataFile
,numerals="allow.loss"
,colClasses=classes
)
fileData<-as.matrix(pollution)
i<-1
while(i<=nrow(fileData))
{
riga<-fileData[i,]
if((is.na(riga[2])|is.na(riga[3])) == FALSE)
{
contaCompleti<-contaCompleti+1
sulfate<-c(sulfate,as.numeric(riga[2]))
nitrate<-c(nitrate,as.numeric(riga[3]))
}
i<-i+1
}
if(contaCompleti>threshold)
{
correlation<-cor(sulfate,nitrate)
total<-c(total,correlation)
}
close(dataFile)
fileIndex<-fileIndex+1
}
return(total)
}
cr <- corr("specdata", 400)
head(cr)
source("generalFunction.R")
corr <- function(directory, threshold = 0)
{
classes <- c("Date","numeric","numeric","integer")
total<-c()
sulfate<-c()
nitrate<-c()
fileIndex<-1
while (fileIndex<=332)
{
print(fileIndex)
contaCompleti<-0
percorsi<-creaPercorsiFile(directory,fileIndex)
urlPath<-percorsi[1]
pcPath<-percorsi[2]
if (file.exists(pcPath)==FALSE)
{
download.file(urlPath, pcPath, quiet=TRUE)
}
if fileIndex>97
{
print(pcPath)
}
dataFile<-file(pcPath, "r")
pollution<-read.csv(
dataFile
,numerals="allow.loss"
,colClasses=classes
)
fileData<-as.matrix(pollution)
i<-1
while(i<=nrow(fileData))
{
riga<-fileData[i,]
if((is.na(riga[2])|is.na(riga[3])) == FALSE)
{
contaCompleti<-contaCompleti+1
sulfate<-c(sulfate,as.numeric(riga[2]))
nitrate<-c(nitrate,as.numeric(riga[3]))
}
i<-i+1
}
if(contaCompleti>threshold)
{
correlation<-cor(sulfate,nitrate)
total<-c(total,correlation)
}
close(dataFile)
fileIndex<-fileIndex+1
}
return(total)
}
cr <- corr("specdata", 400)
head(cr)
source("generalFunction.R")
corr <- function(directory, threshold = 0)
{
classes <- c("Date","numeric","numeric","integer")
total<-c()
sulfate<-c()
nitrate<-c()
fileIndex<-1
while (fileIndex<=332)
{
contaCompleti<-0
percorsi<-creaPercorsiFile(directory,fileIndex)
urlPath<-percorsi[1]
pcPath<-percorsi[2]
if (file.exists(pcPath)==FALSE)
{
download.file(urlPath, pcPath, quiet=TRUE)
}
print(pcPath)
dataFile<-file(pcPath, "r")
pollution<-read.csv(
dataFile
,numerals="allow.loss"
,colClasses=classes
)
fileData<-as.matrix(pollution)
i<-1
while(i<=nrow(fileData))
{
riga<-fileData[i,]
if((is.na(riga[2])|is.na(riga[3])) == FALSE)
{
contaCompleti<-contaCompleti+1
sulfate<-c(sulfate,as.numeric(riga[2]))
nitrate<-c(nitrate,as.numeric(riga[3]))
}
i<-i+1
}
if(contaCompleti>threshold)
{
correlation<-cor(sulfate,nitrate)
total<-c(total,correlation)
}
close(dataFile)
fileIndex<-fileIndex+1
}
return(total)
}
cr <- corr("specdata", 400)
head(cr)
source("generalFunction.R")
corr <- function(directory, threshold = 0)
{
classes <- c("Date","numeric","numeric","integer")
total<-c()
sulfate<-c()
nitrate<-c()
fileIndex<-1
while (fileIndex<=332)
{
contaCompleti<-0
percorsi<-creaPercorsiFile(directory,fileIndex)
urlPath<-percorsi[1]
pcPath<-percorsi[2]
if (file.exists(pcPath)==FALSE)
{
download.file(urlPath, pcPath, quiet=TRUE)
}
print(pcPath)
dataFile<-file(pcPath, "r")
pollution<-read.csv(
dataFile
,numerals="allow.loss"
,colClasses=classes
)
fileData<-as.matrix(pollution)
i<-1
while(i<=nrow(fileData))
{
riga<-fileData[i,]
if((is.na(riga[2])|is.na(riga[3])) == FALSE)
{
contaCompleti<-contaCompleti+1
sulfate<-c(sulfate,as.numeric(riga[2]))
nitrate<-c(nitrate,as.numeric(riga[3]))
}
i<-i+1
}
if(contaCompleti>threshold)
{
correlation<-cor(sulfate,nitrate)
total<-c(total,correlation)
}
close(dataFile)
fileIndex<-fileIndex+1
}
return(total)
}
cr <- corr("specdata", 400)
head(cr)
summary(cr)
cr <- corr("specdata", 5000)
summary(cr)
summary(cr)
source("generalFunction.R")
corr <- function(directory, threshold = 0)
{
classes <- c("Date","numeric","numeric","integer")
total<-c()
sulfate<-c()
nitrate<-c()
fileIndex<-1
while (fileIndex<=332)
{
contaCompleti<-0
percorsi<-creaPercorsiFile(directory,fileIndex)
urlPath<-percorsi[1]
pcPath<-percorsi[2]
if (file.exists(pcPath)==FALSE)
{
download.file(urlPath, pcPath, quiet=TRUE)
}
dataFile<-file(pcPath, "r")
pollution<-read.csv(
dataFile
,numerals="allow.loss"
,colClasses=classes
)
fileData<-as.matrix(pollution)
i<-1
while(i<=nrow(fileData))
{
riga<-fileData[i,]
if((is.na(riga[2])|is.na(riga[3])) == FALSE)
{
contaCompleti<-contaCompleti+1
sulfate<-c(sulfate,as.numeric(riga[2]))
nitrate<-c(nitrate,as.numeric(riga[3]))
}
i<-i+1
}
if(contaCompleti>threshold)
{
correlation<-cor(sulfate,nitrate)
total<-c(total,correlation)
}
close(dataFile)
fileIndex<-fileIndex+1
}
return(total)
}
cr <- corr("specdata")
lenght(cr)
length(cr)
summary(cr)
source("generalFunction.R")
corr <- function(directory, threshold = 0)
{
classes <- c("Date","numeric","numeric","integer")
total<-c()
sulfate<-c()
nitrate<-c()
fileIndex<-1
while (fileIndex<=332)
{
contaCompleti<-0
percorsi<-creaPercorsiFile(directory,fileIndex)
urlPath<-percorsi[1]
pcPath<-percorsi[2]
if (file.exists(pcPath)==FALSE)
{
download.file(urlPath, pcPath, quiet=TRUE)
}
dataFile<-file(pcPath, "r")
pollution<-read.csv(
dataFile
,numerals="allow.loss"
,colClasses=classes
)
fileData<-as.matrix(pollution)
i<-1
while(i<=nrow(fileData))
{
riga<-fileData[i,]
if((is.na(riga[2])|is.na(riga[3])) == FALSE)
{
contaCompleti<-contaCompleti+1
if(contaCompleti>threshold)
{
sulfate<-c(sulfate,as.numeric(riga[2]))
nitrate<-c(nitrate,as.numeric(riga[3]))
}
}
i<-i+1
}
correlation<-cor(sulfate,nitrate)
total<-c(total,correlation)
close(dataFile)
fileIndex<-fileIndex+1
}
return(total)
}
cr <- corr("specdata",150)
hr(cr)
source("generalFunction.R")
corr <- function(directory, threshold = 0)
{
classes <- c("Date","numeric","numeric","integer")
total<-c()
sulfate<-c()
nitrate<-c()
fileIndex<-1
while (fileIndex<=332)
{
contaCompleti<-0
percorsi<-creaPercorsiFile(directory,fileIndex)
urlPath<-percorsi[1]
pcPath<-percorsi[2]
if (file.exists(pcPath)==FALSE)
{
download.file(urlPath, pcPath, quiet=TRUE)
}
dataFile<-file(pcPath, "r")
pollution<-read.csv(
dataFile
,numerals="allow.loss"
,colClasses=classes
)
fileData<-as.matrix(pollution)
i<-1
while(i<=nrow(fileData))
{
riga<-fileData[i,]
if((is.na(riga[2])|is.na(riga[3])) == FALSE)
{
contaCompleti<-contaCompleti+1
if(contaCompleti>threshold)
{
sulfate<-c(sulfate,as.numeric(riga[2]))
nitrate<-c(nitrate,as.numeric(riga[3]))
}
}
i<-i+1
}
if(contaCompleti>threshold)
{
correlation<-cor(sulfate,nitrate)
total<-c(total,correlation)
}
close(dataFile)
fileIndex<-fileIndex+1
}
return(total)
}
cr <- corr("specdata",150)
source("generalFunction.R")
corr <- function(directory, threshold = 0)
{
classes <- c("Date","numeric","numeric","integer")
total<-c()
sulfate<-c()
nitrate<-c()
fileIndex<-1
while (fileIndex<=332)
{
contaCompleti<-0
percorsi<-creaPercorsiFile(directory,fileIndex)
urlPath<-percorsi[1]
pcPath<-percorsi[2]
if (file.exists(pcPath)==FALSE)
{
download.file(urlPath, pcPath, quiet=TRUE)
}
dataFile<-file(pcPath, "r")
pollution<-read.csv(
dataFile
,numerals="allow.loss"
,colClasses=classes
)
fileData<-as.matrix(pollution)
i<-1
while(i<=nrow(fileData))
{
riga<-fileData[i,]
if((is.na(riga[2])|is.na(riga[3])) == FALSE)
{
contaCompleti<-contaCompleti+1
if(contaCompleti>threshold)
{
sulfate<-c(sulfate,as.numeric(riga[2]))
nitrate<-c(nitrate,as.numeric(riga[3]))
}
}
i<-i+1
}
if(contaCompleti>threshold)
{
correlation<-cor(sulfate,nitrate)
total<-c(total,correlation)
}
close(dataFile)
fileIndex<-fileIndex+1
}
return(total)
}
cr <- corr("specdata",150)
head(cr)
summary(cr)
source("generalFunction.R")
corr <- function(directory, threshold = 0)
{
classes <- c("Date","numeric","numeric","integer")
total<-c()
fileIndex<-1
while (fileIndex<=332)
{
sulfate<-c()
nitrate<-c()
contaCompleti<-0
percorsi<-creaPercorsiFile(directory,fileIndex)
urlPath<-percorsi[1]
pcPath<-percorsi[2]
if (file.exists(pcPath)==FALSE)
{
download.file(urlPath, pcPath, quiet=TRUE)
}
dataFile<-file(pcPath, "r")
pollution<-read.csv(
dataFile
,numerals="allow.loss"
,colClasses=classes
)
fileData<-as.matrix(pollution)
i<-1
while(i<=nrow(fileData))
{
riga<-fileData[i,]
if((is.na(riga[2])|is.na(riga[3])) == FALSE)
{
contaCompleti<-contaCompleti+1
sulfate<-c(sulfate,as.numeric(riga[2]))
nitrate<-c(nitrate,as.numeric(riga[3]))
}
i<-i+1
}
if(contaCompleti>threshold)
{
correlation<-cor(sulfate,nitrate)
total<-c(total,correlation)
}
close(dataFile)
fileIndex<-fileIndex+1
}
return(total)
}
cr <- corr("specdata",150)
head(cr)
source("corr.R")
cr <- corr("specdata", 150)
head(cr)
summary(cr)
cr <- corr("specdata", 400)
head(cr)
summary(cr)
summary(cr)
cr <- corr("specdata", 5000)
summary(cr)
length(cr)
cr <- corr("specdata")
summary(cr)
length(cr)
source("pollutantmean.R")
pollutantmean("specdata", "sulfate", 1:10)
source("http://d396qusza40orc.cloudfront.net/rprog%2Fscripts%2Fsubmitscript1.R")
submit()
2
submit()
submit()
submit()
submit()
submit()
submit()
submit()
submit()
submit()
